#summary Getting Started with implementing SocialAuth in Spring Application

= Using !SocialAuth !ServletFilter  =

== Prerequisites ==
Authenticating using the external oAuth providers requires that we register our application with the providers and obtain a key/secret from them that will be configured in our application. So following steps are needed to be set up before we can begin.

  # Public domain - You will need a public domain for testing. You should have a public domain because most of the providers require a public domain to be specified when you register an application with them.
  # Get the API Keys: You can get the API keys from the following URLs. 
    * Google [Google (show screenshot)] - http://code.google.com/apis/accounts/docs/RegistrationForWebAppsAuto.html 
    * Yahoo [Yahoo (show screenshot)] - https://developer.apps.yahoo.com/dashboard/createKey.html
    * Twitter  - http://twitter.com/apps
    * Facebook  - http://www.facebook.com/developers/apps.php
    * Hotmail [Hotmail (show screenshot)] - http://msdn.microsoft.com/en-us/library/cc287659.aspx
    * FourSquare - [FourSquare (show screenshot)] - https://foursquare.com/oauth/
    * MySpace - [MySpace (show screenshot)] - http://developer.myspace.com/Apps.mvc
    * Linkedin - [Linkedin (show screenshot)] - https://www.linkedin.com/secure/developer
  # You can now develop the application using keys and secrets obtained above and deploy the application on your public domain. However, most people need to [HowToRunApplicationWithLocalhostOnWindows test the application on a local development machine] using the API keys and secrets obtained above.
  # We do not recommend it at all, but if you do not want to obtain your own keys and secrets while testing, you can use the keys and secrets that we obtained by registering "opensource.brickred.com" for our demo.  [HowToRunApplicationWithLocalhostOnWindows Follow the same steps] as above but with domain as "opensource.brickred.com" and [SampleProperties keys from our sample].

== Download the jars ==
  # Download the [http://socialauth.googlecode.com/files/socialauth-2.0-beta3.jar socialauth-2.0-beta3.jar] 
  # Download the [http://socialauth.googlecode.com/files/socialauth-filter-2.0-beta1.jar socialauth-filter-2.0-beta1.jar] 
  # Download the [http://socialauth.googlecode.com/files/dependencies-2.0.zip dependencies-2.0.zip]
  # Include all the jars in your project

== Implementation ==

socialauth-filter.jar contains a filter class and set of helper classes which are responsible for smoothly interaction between your web application and socialauth library. !SocialAuthSecurityFilter is the filter class for managing socialauth-provider connection flow. It redirects to the actual provider for login and handles the callback. Once the user provides credentials and the provider redirects back to your application, one of the callback methods is called. This jar consists of other important classes (i.e. DefaultSASFHelper & SASFStaticHelper) which actually wrap low level socialauth-library objects.

 # Add filter definition in web.xml.
{{{
<filter>
  <filter-name>SocialAuthSecurityFilter</filter-name>
  <filter-class>de.deltatree.social.web.filter.impl.SocialAuthSecurityFilter</filter-class>
</filter>
<filter-mapping>
  <filter-name>SocialAuthSecurityFilter</filter-name>
  <url-pattern>/SAF/*</url-pattern>
</filter-mapping>

}}}
 # Add properties file in context param, it is used to configure filter settings.
{{{
<context-param>
	<param-name>properties</param-name>
	<param-value>properties.ini</param-value>
</context-param>
}}} 
 # Properties.ini: This file consists of properties which are used to configure socialauth-filter api. Please note that this file should be included in your class path.
{{{
oauth_consumers = oauth_consumer.properties #file contains keys
filter.url = /SAF #filter url-mapping
error.page.url = /jsp/error.jsp #error page
webapp.success.action = /socialAuthSuccessAction.do #callback URL on successful authentication
}}}
 # Create a property file like the sample [SampleProperties oauth_consumer.properties] using the consumer key and secrets obtained above. This file should be included in your classpath.
 # Forward your auth provider requests to filter as shown in below example code.
{{{
/*struts sample code*/
String filterUrl = "/SAF/SocialAuth?id=" + id;
ActionForward fwd = new ActionForward("openAuthUrl", filterUrl, true);
}}}
 # On successful authentication, filter api stores communication object (i.e. SASFHelper) in session so it can be obtained for accessing other profile information on successful page.
{{{
SASFHelper helper = SASFStaticHelper.getHelper(request);
Profile profile = helper.getUserProfile();
List<Contact> contactsList= helper.getContactList();
}}}

* You can download the demo project from* [http://code.google.com/p/socialauth/source/browse/#svn%2Ftrunk%2Fsocialauth-struts-filter-demo]